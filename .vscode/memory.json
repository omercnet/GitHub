{"type":"entity","name":"GitHub UI Clone Project","entityType":"project","observations":["Next.js 15 application with TypeScript and App Router","GitHub API integration using @octokit/core","Authentication via iron-session with encrypted HTTP-only cookies","Styled with Tailwind CSS in dark-only theme","Testing with Jest (74 tests) and Playwright for E2E","Deployed on Vercel with serverless optimization","Repository: omercnet/GitHub on main branch","Located at /Users/omer/dev/GitHub workspace","Updated to support automatic session authentication on homepage","Added session check endpoint at /api/session with GET and DELETE methods","Homepage now checks for existing authenticated session on component mount","Enhanced with loading states during session validation","Integrated logout functionality with session cleanup"]}
{"type":"entity","name":"Phase 1 Implementation","entityType":"feature","observations":["Branch selection functionality with interactive dropdown","BranchSelector.tsx component created with GitHub-style UI","Real-time branch switching capability","Protected branch indicators in dropdown","Integration with GitHub branches API"]}
{"type":"entity","name":"Phase 2 Implementation","entityType":"feature","observations":["Enhanced file table with commit information display","EnhancedFileTable.tsx component with professional styling","Real commit data including timestamps and author info","Git integration showing last commit per file/directory","Uses date-fns for relative time formatting","Contents API enhanced with branch parameter and commit data","ANSI color code parsing implemented in LogFormatter.tsx","Added support for cyan, red, green, yellow, blue, purple, white colors","Bold text formatting via ANSI codes ([1m) now supported","GitHub Actions workflow logs now display with proper colors","Combined ANSI parsing with existing search highlighting functionality"]}
{"type":"entity","name":"ESLint Code Quality Fixes","entityType":"maintenance","observations":["Reduced from 131 problems (9 errors, 122 warnings) to 2 warnings","Fixed TypeScript parser issues with .next build directory","Removed unused CommitInfo interface from contents API route","Added useCallback wrappers for async functions in useEffect dependencies","Fixed React hooks dependency violations in actions and pulls pages","All 74 tests still passing after fixes"]}
{"type":"entity","name":"Project Architecture","entityType":"architecture","observations":["App Router with React Server and Client Components","Strict TypeScript throughout with interfaces in app/lib/session.ts","API routes in app/api/ with session validation","Components in app/components/ following dark theme patterns","Testing structure: 9 test suites with unit, integration, and E2E tests","Environment configuration for development (HTTP) and production (HTTPS)","Rate limiting: 60/hr public, 5,000/hr authenticated"]}
{"type":"entity","name":"Key Files Modified","entityType":"codebase","observations":["/app/api/repos/[owner]/[repo]/contents/route.ts - Enhanced with branch support and commit info","/app/components/BranchSelector.tsx - New component for branch switching","/app/components/EnhancedFileTable.tsx - New component with commit information","/app/repos/[owner]/[repo]/code/page.tsx - Integrated new components","/app/repos/[owner]/[repo]/actions/page.tsx - Fixed useCallback dependencies","/app/repos/[owner]/[repo]/pulls/page.tsx - Fixed useCallback dependencies","eslint.config.js - Added .next directory ignore patterns","/app/api/session/route.ts - New endpoint for session validation and logout","/app/page.tsx - Enhanced with session checking on mount and logout button","/app/components/LogFormatter.tsx - Added ANSI color code parsing with React components","/app/repos/[owner]/[repo]/actions/page.tsx - Removed JobDrawer integration","/app/repos/[owner]/[repo]/actions/components/RunsList.tsx - Enhanced JobsSummary and JobRow components"]}
{"type":"entity","name":"Security Patterns","entityType":"security","observations":["Environment variables for sensitive data (SECRET_COOKIE_PASSWORD, GITHUB_TOKEN)","Server-side GitHub API proxying to protect tokens","iron-session encrypted cookie storage","Session validation on all API routes","No client-side token exposure","Authentication bypass only in NODE_ENV=test"]}
{"type":"entity","name":"Testing Infrastructure","entityType":"testing","observations":["74 tests across 9 test suites all passing","Unit tests for components, utilities, and configuration","Integration tests with real GitHub API connectivity","E2E tests with Playwright for full user workflows","Test helpers organized in shared/ subdirectories","GitHub token integration for authenticated endpoint testing"]}
{"type":"entity","name":"Current Status","entityType":"status","observations":["Phase 1 and Phase 2 implementations completed successfully","ESLint errors completely resolved (from 9 errors to 0)","Only 2 non-critical ESLint warnings remain","All tests passing, codebase clean and production-ready","Application ready for deployment with comprehensive functionality","JobDrawer component successfully removed from Actions page","JobsSummary component enhanced to replace JobDrawer functionality","Workflow rows now fully clickable for better UX instead of tiny arrow","Jobs list integrated directly into expanded workflow sections","Session management completed with automatic login on homepage","ANSI color parsing working for colorized GitHub Actions logs"]}
{"type":"entity","entityType":"technology","name":"Technology Stack","observations":["Next.js 15.4.4 with App Router and React Server Components","TypeScript for strict type safety throughout","Tailwind CSS v4 with utility-first styling and custom theme variables","Shadcn/ui component library (Button, Card, Badge, Input)","@octokit/core for GitHub API integration","iron-session for encrypted HTTP-only cookie sessions","date-fns for date and time formatting","Jest with React Testing Library for unit testing","Playwright for end-to-end testing","ESLint with TypeScript and React hooks rules"]}
{"type":"entity","entityType":"workflow","name":"Development Workflow Completed","observations":["Started with Phase 1 & 2 implementation request","Implemented branch selection with BranchSelector component","Created enhanced file table with commit information","Integrated components into main code view page","Assessed codebase cleanliness - no leftover files found","Fixed critical ESLint errors from 9 to 0","Maintained all 74 tests passing throughout","Applied React hooks best practices with useCallback","Fixed TypeScript strict typing issues","Completed with production-ready codebase"]}
{"type":"entity","entityType":"api","name":"GitHub API Integration","observations":["Contents API enhanced to support branch parameter","Fetches commit information for each file and directory","Branch API integration for dropdown population","Actions API for workflow management","Pull Requests API for PR management","Proxy pattern to protect GitHub tokens server-side","Rate limiting handled: 60/hr public, 5000/hr authenticated","Authentication bypass in test environment only","Session validation endpoint validates stored GitHub tokens","Invalid tokens automatically cleared from session storage","User profile data returned on successful session validation","Logout endpoint properly destroys encrypted session cookies"]}
{"type":"entity","entityType":"components","name":"React Components Created","observations":["BranchSelector.tsx - Interactive branch dropdown with GitHub styling","EnhancedFileTable.tsx - Professional file listing with commit info","LogFormatter.tsx - Log formatting component with complexity warning","Components follow dark theme patterns consistently","Use TypeScript interfaces for all props and state","Implement loading states and error boundaries","Follow Next.js 15 App Router conventions","JobsSummary component converted from basic summary to full interactive job list","JobRow component with status indicators, duration display, and log modal access","JobLogModal integration maintained for comprehensive log viewing","Workflow rows made fully clickable with visual hints for expansion","Session checking loading screen component added to homepage"]}
{"type":"entity","entityType":"feature","name":"Actions Parity Phase","observations":["Improve workflows UI to mirror github.com","Add enriched run metadata (event, actor, run_number, duration)","Filtering & pagination (status, event, branch, workflow, actor)","Sidebar workflow list + main runs panel","Job drawer with step segmentation & streaming logs","Log search, highlighting, annotations extraction","Manual dispatch UX enhancements (branch/tag toggle, persisted inputs)","Performance: conditional polling, SWR cache strategy","Rerun failed jobs, cancel in-progress, matrix grouping","Testing: unit (filters, duration), E2E (dispatch + streaming)","Phases: 0 Types/Utils, 1 API enrichment & filtering, 2 UI restructuring (sidebar, filters, runs list), 3 Job drawer & streaming logs, 4 Advanced logs (annotations, virtualization, search), 5 Manual dispatch UX enhancements (branch/tag, persistence, optimistic run), 6 Matrix grouping & performance (conditional polling, ETag, stale-if-error), 7 Rerun/cancel & polish (actions menu, badge copy), 8 Testing expansion (unit, integration, e2e), 9 Documentation & cleanup.","Key new files: actions-types.ts, actions-utils.ts, logs.ts, sidebar & filter components, job drawer, matrix group, new tests & e2e specs.","API endpoints extended: runs (filters+pagination), jobs (steps), job logs (offset streaming), annotations, rerun-failed, cancel run, workflows enriched, tags fetch.","Core utilities: buildFiltersQuery, formatDuration, relativeTime, groupMatrixJobs, parseLogAnnotations, segmentSteps, mergeLogChunk.","Polling strategy: 30s baseline, 10s if in_progress, conditional for visible runs, ETag support.","Logging features: incremental append, step segmentation, annotations extraction, search & highlight, virtualization >5k lines.","Manual dispatch improvements: branch/tag toggle, localStorage persistence, radio vs select, optimistic queued row.","Performance/resilience: SWR cache, stale-if-error banner, memory cap for large logs, matrix grouping reduce clutter.","Testing goals: raise test count >85, cover filters logic, duration formatting, log streaming, annotations parser, matrix grouping.","Acceptance: filters latency <2s fresh, streaming lag <6s, no regression in existing 74 tests."]}
{"type":"entity","entityType":"feature","name":"Authentication Improvements","observations":["Automatic session restoration on homepage load","Session validation with GitHub API token verification","Graceful handling of expired or invalid tokens","Loading states during authentication checks","Secure logout with session cleanup","Enhanced user experience with persistent authentication"]}
{"type":"entity","entityType":"feature","name":"GitHub Actions UI Enhancements","observations":["Removed separate JobDrawer component for cleaner UI","Enhanced JobsSummary with full interactive job listings","JobRow components with comprehensive status indicators","Workflow rows fully clickable for better accessibility","ANSI color code support in GitHub Actions logs","Live log streaming with proper colorization","Integrated job access directly from workflow expansions"]}
{"type":"entity","entityType":"component","name":"LogFormatter Enhanced","observations":["ANSI color code parsing with React component rendering","Support for 16 standard terminal colors (30-37, 90-97)","Bold text formatting via ANSI escape sequences","Combined color parsing with existing search highlighting","Optimized for GitHub Actions workflow log display","Reduced complexity while maintaining functionality"]}
{"type":"relation","from":"GitHub UI Clone Project","to":"Phase 1 Implementation","relationType":"includes"}
{"type":"relation","from":"GitHub UI Clone Project","to":"Phase 2 Implementation","relationType":"includes"}
{"type":"relation","from":"GitHub UI Clone Project","to":"Project Architecture","relationType":"follows"}
{"type":"relation","from":"GitHub UI Clone Project","to":"Security Patterns","relationType":"implements"}
{"type":"relation","from":"Phase 1 Implementation","to":"Key Files Modified","relationType":"modifies"}
{"type":"relation","from":"Phase 2 Implementation","to":"Key Files Modified","relationType":"modifies"}
{"type":"relation","from":"ESLint Code Quality Fixes","to":"Key Files Modified","relationType":"improves"}
{"type":"relation","from":"ESLint Code Quality Fixes","to":"Testing Infrastructure","relationType":"validates_with"}
{"type":"relation","from":"Project Architecture","to":"Testing Infrastructure","relationType":"supports"}
{"type":"relation","from":"Security Patterns","to":"Project Architecture","relationType":"secures"}
{"type":"relation","from":"Current Status","to":"Phase 1 Implementation","relationType":"completed"}
{"type":"relation","from":"Current Status","to":"Phase 2 Implementation","relationType":"completed"}
{"type":"relation","from":"Current Status","to":"ESLint Code Quality Fixes","relationType":"completed"}
{"type":"relation","from":"Testing Infrastructure","to":"Current Status","relationType":"validates"}
{"type":"relation","from":"GitHub UI Clone Project","relationType":"uses","to":"Technology Stack"}
{"type":"relation","from":"Development Workflow Completed","relationType":"produced","to":"Current Status"}
{"type":"relation","from":"GitHub API Integration","relationType":"powers","to":"Phase 1 Implementation"}
{"type":"relation","from":"GitHub API Integration","relationType":"powers","to":"Phase 2 Implementation"}
{"type":"relation","from":"React Components Created","relationType":"implements","to":"Phase 1 Implementation"}
{"type":"relation","from":"React Components Created","relationType":"implements","to":"Phase 2 Implementation"}
{"type":"relation","from":"Technology Stack","relationType":"supports","to":"React Components Created"}
{"type":"relation","from":"Technology Stack","relationType":"enables","to":"GitHub API Integration"}
{"type":"relation","from":"Development Workflow Completed","relationType":"followed","to":"Project Architecture"}
{"type":"relation","from":"GitHub UI Clone Project","to":"Actions Parity Phase","relationType":"includes"}
{"type":"relation","from":"Actions Parity Phase","to":"GitHub API Integration","relationType":"extends"}
{"type":"relation","from":"Actions Parity Phase","to":"React Components Created","relationType":"adds"}
{"type":"relation","from":"Actions Parity Phase","to":"Testing Infrastructure","relationType":"requires"}
{"type":"relation","from":"GitHub UI Clone Project","to":"Authentication Improvements","relationType":"includes"}
{"type":"relation","from":"GitHub UI Clone Project","to":"GitHub Actions UI Enhancements","relationType":"includes"}
{"type":"relation","from":"GitHub UI Clone Project","to":"LogFormatter Enhanced","relationType":"includes"}
{"type":"relation","from":"Authentication Improvements","to":"GitHub API Integration","relationType":"enhances"}
{"type":"relation","from":"GitHub Actions UI Enhancements","to":"Actions Parity Phase","relationType":"completes"}
{"type":"relation","from":"LogFormatter Enhanced","to":"GitHub Actions UI Enhancements","relationType":"supports"}
{"type":"relation","from":"Authentication Improvements","to":"Current Status","relationType":"updates"}
{"type":"relation","from":"GitHub Actions UI Enhancements","to":"Current Status","relationType":"updates"}
{"type":"relation","from":"LogFormatter Enhanced","to":"Current Status","relationType":"updates"}